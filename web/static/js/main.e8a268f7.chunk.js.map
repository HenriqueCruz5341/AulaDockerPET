{"version":3,"sources":["api.js","App.js","index.js"],"names":["api","axios","create","baseURL","App","useState","users","setUsers","name","setName","description","setDescription","selectedFile","setSelectedFile","getUsers","useCallback","a","get","response","data","useEffect","handleSubmit","e","preventDefault","FormData","append","post","window","alert","console","log","className","onSubmit","htmlFor","id","onChange","target","value","type","accept","files","map","user","index","key","src","photo","height","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sQAMeA,E,OAJHC,EAAMC,OAAO,CACvBC,QAAS,0B,MCoFIC,MAnFf,WAAgB,IAAD,EACaC,mBAAS,IADtB,mBACNC,EADM,KACCC,EADD,OAEWF,mBAAS,IAFpB,mBAENG,EAFM,KAEAC,EAFA,OAGyBJ,mBAAS,IAHlC,mBAGNK,EAHM,KAGOC,EAHP,OAI2BN,qBAJ3B,mBAINO,EAJM,KAIQC,EAJR,KAMPC,EAAWC,sBAAW,sBAAC,4BAAAC,EAAA,sEACJhB,EAAIiB,IAAI,UADJ,OACrBC,EADqB,OAG3BX,EAAS,YAAIW,EAASC,OAHK,2CAI1B,IAEHC,qBAAU,WACRN,MACC,CAACA,IAEJ,IAAMO,EAAY,uCAAG,WAAOC,GAAP,eAAAN,EAAA,6DACnBM,EAAEC,kBAEIJ,EAAO,IAAIK,UACZC,OAAO,QAASb,GACrBO,EAAKM,OAAO,OAAQjB,GACpBW,EAAKM,OAAO,cAAef,GANR,kBASXV,EAAI0B,KAAK,SAAUP,GATR,OAWjBQ,OAAOC,MAAM,sCACbd,IAZiB,kDAcjBe,QAAQC,IAAI,KAAIZ,SAASC,MAdR,0DAAH,sDAkBlB,OACE,yBAAKY,UAAU,OACb,0BAAMC,SAAUX,GACd,yBAAKU,UAAU,UACb,2BAAOE,QAAQ,SAAf,SACA,2BACEC,GAAG,QACHC,SAAU,SAACb,GAAD,OAAOb,EAAQa,EAAEc,OAAOC,QAClCA,MAAO7B,KAIX,yBAAKuB,UAAU,UACb,2BAAOE,QAAQ,gBAAf,oBACA,2BACEC,GAAG,eACHC,SAAU,SAACb,GAAD,OAAOX,EAAeW,EAAEc,OAAOC,QACzCA,MAAO3B,KAIX,yBAAKqB,UAAU,UACb,2BAAOE,QAAQ,SAAf,SACA,2BACEC,GAAG,QACHI,KAAK,OACLC,OAAO,UACPJ,SAAU,SAACb,GAAD,OAAOT,EAAgBS,EAAEc,OAAOI,MAAM,QAIpD,6BACA,4BAAQF,KAAK,UAAb,WAEF,yBAAKP,UAAU,YAAf,OACGzB,QADH,IACGA,OADH,EACGA,EAAOmC,KAAI,SAACC,EAAMC,GAAP,OACV,yBAAKZ,UAAU,OAAOa,IAAKD,GACzB,yBAAKE,IAAKH,EAAKI,MAAOC,OAAO,QAAQC,IAAG,kBAAaN,EAAKlC,QAC1D,yBAAKuB,UAAU,YACb,0BAAMA,UAAU,YAAYW,EAAKlC,MACjC,0BAAMuB,UAAU,mBAAmBW,EAAKhC,qBC1EtDuC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.e8a268f7.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\",\n});\n\nexport default api;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport api from \"./api\";\nimport \"./App.css\";\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState();\n\n  const getUsers = useCallback(async () => {\n    const response = await api.get(\"/users\");\n\n    setUsers([...response.data]);\n  }, []);\n\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append(\"image\", selectedFile);\n    data.append(\"name\", name);\n    data.append(\"description\", description);\n\n    try {\n      await api.post(\"/users\", data);\n\n      window.alert(\"Usuário cadastrado com sucesso!\");\n      getUsers();\n    } catch (err) {\n      console.log(err.response.data);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"inputs\">\n          <label htmlFor=\"iname\">Nome:</label>\n          <input\n            id=\"iname\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </div>\n\n        <div className=\"inputs\">\n          <label htmlFor=\"idescription\">Descrição:</label>\n          <input\n            id=\"idescription\"\n            onChange={(e) => setDescription(e.target.value)}\n            value={description}\n          />\n        </div>\n\n        <div className=\"inputs\">\n          <label htmlFor=\"ifile\">Foto:</label>\n          <input\n            id=\"ifile\"\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={(e) => setSelectedFile(e.target.files[0])}\n          />\n        </div>\n\n        <br />\n        <button type=\"submit\">Enviar</button>\n      </form>\n      <div className=\"userList\">\n        {users?.map((user, index) => (\n          <div className=\"user\" key={index}>\n            <img src={user.photo} height=\"200px\" alt={`Foto de ${user.name}`} />\n            <div className=\"userInfo\">\n              <span className=\"userName\">{user.name}</span>\n              <span className=\"userDescription\">{user.description}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}